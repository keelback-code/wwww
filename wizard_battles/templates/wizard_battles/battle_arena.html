{% extends "base.html" %}
{% load static %}
{% load cloudinary %}

{% block content %}

<div class="form-container text-center rounded col-md-8 mx-auto">
    <h1 class="text-center fs-2 m-2">Battle Arena</h1>
</div>

{% for battle in all_battles %}
<div class="container">
    <div class="row">
        <div class="col-md-8 mx-auto m-4">
            <div class="card text-center battle-card h-100">
                <div>
                    <h2><a class="card-title reversed-link-styles justify-content-center"
                        href="{% url 'view_battle' battle.slug %}">
                        {{ battle.title }}
                    </a></h2>
                </div>
                <div class="card-body image-grid-container">
                    {% if battle.image_one %}
                    <img class="img-fluid" src={{ battle.image_one.url }} alt="A wizard ready for battle.">
                    {% else %}
                    <img class="img-fluid" src="/media/images/placeholder.jpg"
                            alt="A small frog-like creature in a wizard hat.">
                    {% endif %}

                    
                    {% if battle.image_two is placeholder_two %}
                    <img class="img-fluid" src="/media/images/placeholder.jpg"
                            alt="A small frog-like creature in a wizard hat.">
                    {% else %}
                    <img class="img-fluid" src={{ battle.image_two.url }} alt="A second wizard ready for battle.">
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>


{% endfor %}

{% if request.user.is_staff %}
<div class="rounded form-container mx-auto text-center m-5" style="width: 15rem;">
    <a class="reversed-link-styles" href="{% url 'create_battle' %}">Create Battle <i
            class="fa-solid fa-hat-wizard"></i></a>
</div>
{% endif %}

{% endblock %}